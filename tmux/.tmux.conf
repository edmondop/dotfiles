unbind r
bind r source-file ~/.tmux.conf

# Support SSH agent forwarding 
set -g update-environment "DISPLAY SSH_ASKPASS SSH_AGENT_PID SSH_AUTH_SOCK_SET SSH_CONNECTION WINDOWID XAUTHORITY"
setenv -g SSH_AUTH_SOCK $HOME/.ssh/ssh_auth_sock

# Tmux generic config
set -g prefix C-b
set -g terminal-overrides ",xterm-256color:RGB"
set -g default-shell /bin/zsh


set -g pane-border-status top
set -g pane-border-format "#{pane_index} #{pane_title}"

# VIM keybindings config
setw -g mode-keys vi
set-option -g status-position top
set -g mouse on
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R
# tpm initialization
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tpm'
# Vim navigator
set -g @plugin 'christoomey/vim-tmux-navigator'
# Yanking improvement
set -g @plugin 'tmux-plugins/tmux-yank'
# Theme
set -g @plugin 'dracula/tmux'
# Open files in the terminal
set -g @plugin 'tmux-plugins/tmux-open'
# Auto save and restore of tmux sessions
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'sainnhe/tmux-fzf'
set -g @plugin 'tmux-plugins/tmux-logging'

set -g @treemux-tree-nvim-init-file '~/.tmux/plugins/treemux/configs/treemux_init.lua'
set -g @plugin 'kiyoon/treemux'
# Not really clear about why I would use it
# set -g @plugin 'spywhere/tmux-named-snapshot'
## Plugin configuration
# Dracula configuration
set -g @dracula-show-flags true
set -g @dracula-fixed-location "Gotham City"
set -g @dracula-border-contrast true
set -g @dracula-show-left-icon session
set -g @dracula-border-contrast false

# Dracula border contrast is not good enough for non-active panes

# Customize the pane border style for inactive panes
set -g pane-border-style fg=#6272a4,bg=#282a36

# Customize the pane border style for active panes
set -g pane-active-border-style fg=#50fa7b,bg=#282a36,bold
# set-option -g window-status-format " #I:#W "
# set-option -g window-status-current-format " #[reverse] #I:#W #[default]"

set -g window-status-format "#W#F"
set -g window-status-current-format "#W#F"
set -g window-status-separator "   "
set -g window-status-separator '#[bg=#44475a]   #[default]'
# image.nvim passthrough
setw -g allow-passthrough all
# set -gq allow-passthrough on
set -g visual-activity off

# tmux resurrect

set -g @resurrect-strategy-nvim 'session'

# Treemux and nvim quality of life
set -g @treemux-nvim-command 'NVIM_APPNAME=nvim-treemux nvim'  # default is 'nvim'
# Set the base index for windows to 1 instead of 0.
set -g base-index 1

# Set the base index for panes to 1 instead of 0.
setw -g pane-base-index 1



run '~/.tmux/plugins/tpm/tpm'

